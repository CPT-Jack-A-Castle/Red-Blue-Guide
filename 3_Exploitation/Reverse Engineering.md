# RedTeam

## Build

- From binary to
    - Machine code (via hexdump)
    - Assembly Code (via Disassembler)
    - Source Code/High-Level Code (via Decompiler)

## JMP ESP (Jump Stack Pointer)

*How is "JMP ESP" presented in Assembler and Opcode?*

1. JMP ESP ( \xFF\xE4)
2. CALL ESP ( \xFF\xD4)
3. PUSH ESP; RET (\x54\xC3)

**Automatic Search for JMP ESP within example.exe**

1. Move to Metasploit-Framework directory
    - `cd /usr/share/metasploit-framework/modules`
2. Enter `./msfpescan -j ESP [example.exe]`

## File Signature/Magic Number

*First two bytes of binary header*

- Windows executable: 4D 5A
    - EXE
    - DLL
    - SYS
    - DRV
    - COM 
- ASCII:  MZ
- Base64: TV
- ELF: 7f 45 4c 46
- INDX ($I30): 49 4E 44 58

## Tools

1. ltrace
    - Analyze library calls of an application
    - `ltrace -p [pid]`: Attach ltrace to running app with known process id
2. strace
    - Analyze system calls of an application
    - `strace -p [pid]`: Attach strace to running app with known process id


<br />

# BlueTeam

## Best Practice
Attackers need information about information control flow of an application in order to manipulate memory access and registers. Consequently, defenders have to prevent attackers from performing static code analysis
