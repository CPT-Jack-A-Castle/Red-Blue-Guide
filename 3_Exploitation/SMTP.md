# ReadTeam

## Validate Postfix Service on target machine
- telnet [IPV4] 25
    - mail from: [attacker]
    - rcpt to: [victim]
    - [enter your text]
    - . (a dot is needed to terminate the message)
    - quit
- If service is running, Postfix will answer with "OK"

<br />

## Critical SMTP functions (normally disabled)
- vrfy (verify): to verify user 
- expn (expand): to show alias

<br />

## nmap
- nse-script: Smtp-user-enum
   - beforehand you should generate a list of potential email addresses 

## ncat (Banner Grabbing)
- `nc [IPv4] 25`
     - Example answer of mail server: `220 mail.example.net ESMTP Postfix (Debian/GNU)`
- `ehlo test`
     - Example answers:
     - 250-mail.example.net
     - 250-PIPELINING
     - 250-SIZE 102400000
     - 250-VRFY
     - 250-ETRN
     - ...

<br />

# BlueTeam

**SMTP Log Codes**
- Code 220: server is ready
- Code 250: message is accepted
- Code 421: service is not available 
- Code 450: server cannot access the mailbox to deliver message
- Code 451: local server aborted the action due to processing error
- Code 452: local server has insufficient storage space
